{% extends 'base.html.twig' %}

{% block title %}Record{% endblock %}

{% block body %}
<h1 class="display4 text-center">LISTE DES RECORDS</h1>
<a class="btn btn-success mb-1" href=" {{ path('new_record') }} "><i class="fa fa-plus"></i> Nouveau record</a>
<table class="table text-center table-bordered" >
        <thead class="thead-dark text-uppercase">
            <tr>
                <th scope="col" style="width:5%;">ID</th>
                <th scope="col" style="width:20%;">Artiste</th>
                <th scope="col">Titre</th>
                <th scope="col" style="width:40%;">description</th>
                <th scope="col" style="width:10%;">Date</th>
                <th scope="col" style="width:8%;">Voir</th>
                <th scope="col" style="width:8%;">Modifier</th>
                <th scope="col" style="width:8%;">Supprimer</th>
            </tr>
        </thead>
        <tbody>

         {% for record in liste_records %}
            <tr>
                <td> {{ record.id }} </td>
                <td> {{ record.artist.name }} </td> 
                {# record.artist est un objet avec une propriété name, tout les champs de la table artiste est accessisible ici#}
                <td class="font-weight-bold"> {{ record.title }} </td>
                <td> {{ record.description }} </td>
                <td> {{ record.releasedAt | date('Y') }} </td>
                <td> <a class="text-primary" href="/record/single/{{record.id}}"><i class="fa fa-eye"></i></a> </td>
                <td> <a class="text-primary" href="/record/modifier/{{record.id}}"><i class="fa fa-edit"></i></a> </td>
                <td> <a class="text-danger"  onclick="return confirm('Voulez-vous supprimer cet album?')" href="/record/supprimer/{{record.id}}"><i class="fa fa-trash"></i></a> </td>
            </tr>
        {% endfor %} 
        </tbody>
    </table>


{% endblock %}
